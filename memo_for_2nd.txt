2. $q=4, 8$ (확장체) 연산 지원 문제에 대한 상세 설명
논문의 Proposition 1, 2에서 다루는 $q=4$ 또는 $q=8$인 경우는 **확장체(Extension Field)**에 해당하며, 현재 코드의 소수체(Prime Field) 가정 하에서는 올바르게 동작하지 않습니다. 그 이유는 다음과 같습니다.

1. 대수적 구조의 차이 ($\mathbb{F}_q$ vs $\mathbb{Z}_q$)
현재 코드 (geometry.py): (a * b) % q와 (a + b) % q를 사용합니다. 이는 정수환 $\mathbb{Z}_q$ (Integers modulo $q$)의 연산입니다.
실제 수학적 요구사항:
$q$가 소수(2, 3, 5, 7...)일 때: 유한체 $\mathbb{F}_q$는 정수환 $\mathbb{Z}_q$와 동일한 구조(isomorphic)를 가지므로 현재 코드가 정확합니다.
$q$가 합성수($4=2^2, 8=2^3, 9=3^2$...)일 때: 유한체 $\mathbb{F}_q$는 $\mathbb{Z}_q$와 전혀 다른 구조를 가집니다.
예를 들어, $\mathbb{Z}_4$에는 $2 \times 2 = 4 \equiv 0$이 되어 0이 아닌 두 수를 곱해 0이 되는 **영인자(Zero Divisor)**가 존재합니다. 이는 나눗셈(역원)을 불가능하게 만듭니다.
반면, 유한체 $\mathbb{F}_4$는 모든 0이 아닌 원소가 역원을 가지며, 덧셈은 벡터의 합(XOR 등)으로 정의됩니다.
2. 내적(Dot Product)과 결합 행렬(Incidence Matrix)의 오류
geometry.py의 is_point_in_hyperplane 함수는 점 $P$가 초평면 $H$에 포함되는지 확인하기 위해 내적 $P \cdot H = 0$을 검사합니다.

$q=4$인 경우의 예시:
$\mathbb{F}_4$는 표수(Characteristic)가 2인 체이므로, $1 + 1 = 0$입니다.
하지만 현재 코드($\mathbb{Z}_4$)에서는 (1 + 1) % 4 = 2 \neq 0이 됩니다.
따라서, 실제로는 초평면 위에 있는 점인데도 코드에서는 **"포함되지 않음"**으로 잘못 판별하거나, 그 반대의 경우가 발생합니다.
3. 결론
이로 인해 **결합 행렬(Incidence Matrix)**이 완전히 잘못 생성됩니다. ILP 모델은 이 행렬을 기반으로 제약 조건(가중치 계산)을 설정하므로, 결과적으로 논문에서 의도한 $\mathbb{F}_4, \mathbb{F}_8$ 상의 부호가 아닌, 엉뚱한 수학적 구조($\mathbb{Z}_4, \mathbb{Z}_8$) 위의 해를 찾게 됩니다.

정확한 재현을 위해서는 geometry.py에 갈루아 체(Galois Field) 연산 라이브러리를 적용하거나, 덧셈/곱셈 테이블을 직접 구현하여 연산자를 오버로딩해야 합니다.